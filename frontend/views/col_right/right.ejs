<% include ./right_style %>

<div id="background">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>
    function print_data(data) {
      $("#list").empty();

      data.forEach(element => {
        if ($("#search").val()) {
          var reg = new RegExp("(" + $("#search").val() + ")+", "ig");
          if (element.Name.match(reg)) {
            var div = document.createElement("div");
            div.innerHTML = "<b>" + element.Name + "</b><br>";

            $("#list")[0].appendChild(div);
          }
        } else {
          var div = document.createElement("div");
          div.innerHTML = "<b>" + element.Name + "</b><br>";

          $("#list")[0].appendChild(div);
        }
      });
    }
    get_data();
    function get_data() {
      getItems(items => {
        print_data(items);
      });
    }
  </script>
  <input
    type="search"
    name="search"
    id="search"
    onkeyup="get_data();"
    placeholder="Search..."
  />
  <script>
    var input = $("#search");
    input[0].addEventListener("keyup", function(event) {
      // Number 13 is the "Enter" key on the keyboard
      if (event.keyCode === 13) {
        // Cancel the default action, if needed
        //event.preventDefault();
        // Trigger the button element with a click
        $("#delete")[0].click();
      }
    });
  </script>

  <div style="color:brown;" id="list"></div>

  <button id="delete" onclick="removeMyItems(a=>{});location.reload();">
    Delete my Items
  </button>
</div>
<div>
  <% include ./bottom/bottom %>
</div>
